#load "core/std/wasi"

#load_path "src"
#load "neuralnet"

use package core



// Load the data
// Feed forward neural net

main :: (args: [] cstr) {
    // Enables a logging allocator to print every allocation
    // main_allocator := context.allocator;
    // context.allocator = alloc.log.logging_allocator(^main_allocator);

    nn := make_neural_net(28 * 28, 1000, 10);

    neural_net_forward(^nn, ~~ input);

    output := neural_net_get_output(^nn);

    for o: output do println(o);
}